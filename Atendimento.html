<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Consulta Online - CareMed</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #2a5298;
            --secondary: #4a7dcc;
            --accent: #00b8d4;
            --light: #f8f9fa;
            --dark: #343a40;
            --success: #28a745;
            --warning: #ffc107;
            --danger: #dc3545;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
            flex: 1;
        }
        
        /* Header */
        header {
            background-color: white;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
        }
        
        .logo {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary);
            text-decoration: none;
        }
        
        .nav-menu {
            display: flex;
            list-style: none;
        }
        
        .nav-menu li {
            margin-left: 25px;
        }
        
        .nav-menu a {
            color: var(--dark);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
        }
        
        .nav-menu a:hover {
            color: var(--primary);
        }
        
        .btn {
            display: inline-block;
            padding: 10px 20px;
            background-color: var(--primary);
            color: white;
            border-radius: 5px;
            text-decoration: none;
            font-weight: 500;
            transition: background-color 0.3s;
            border: none;
            cursor: pointer;
        }
        
        .btn:hover {
            background-color: var(--secondary);
        }
        
        .hamburger {
            display: none;
            cursor: pointer;
            font-size: 1.5rem;
        }
        
        /* Breadcrumb */
        .breadcrumb {
            padding: 15px 0;
            font-size: 0.9rem;
        }
        
        .breadcrumb a {
            color: var(--primary);
            text-decoration: none;
        }
        
        .breadcrumb span {
            color: var(--dark);
        }
        
        /* Consultation Container */
        .consultation-container {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin: 20px 0;
        }
        
        /* Video Section */
        .video-section {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .video-container {
            background-color: #000;
            border-radius: 10px;
            overflow: hidden;
            position: relative;
            height: 50vh;
            min-height: 300px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .video-placeholder {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            background-color: #1a1a1a;
        }
        
        /* Controles de vídeo melhorados */
        .video-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            padding: 15px;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            flex-wrap: wrap;
        }
        
        .control-btn {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
            padding: 12px 15px;
            background-color: var(--light);
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            min-width: 80px;
        }
        
        .control-btn:hover {
            background-color: #e9ecef;
            transform: translateY(-2px);
        }
        
        .control-btn i {
            font-size: 1.3rem;
            margin-bottom: 5px;
        }
        
        .control-btn span {
            font-size: 0.8rem;
            color: var(--dark);
        }
        
        .control-btn.active {
            background-color: var(--primary);
            color: white;
        }
        
        .control-btn.active span {
            color: white;
        }
        
        .control-btn.inactive {
            background-color: #f1f3f5;
        }
        
        .control-btn.inactive i {
            color: #6c757d;
        }
        
        .control-btn.end-call {
            background-color: var(--danger);
            color: white;
        }
        
        .control-btn.end-call span {
            color: white;
        }
        
        .control-btn.end-call:hover {
            background-color: #c82333;
        }
        
        /* Sidebar */
        .consultation-sidebar {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }
        
        .sidebar-card {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            padding: 20px;
        }
        
        .card-title {
            font-size: 1.2rem;
            margin-bottom: 15px;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .card-title i {
            font-size: 1.2rem;
        }
        
        /* Appointment Info */
        .appointment-info {
            margin-bottom: 15px;
        }
        
        .info-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }
        
        .info-label {
            font-weight: 500;
            color: var(--dark);
        }
        
        .info-value {
            color: #666;
        }
        
        /* Chat Container */
        .chat-container {
            display: flex;
            flex-direction: column;
            height: 300px;
        }
        
        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 10px;
            background-color: #f8f9fa;
            border-radius: 10px;
            margin-bottom: 15px;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .message {
            max-width: 80%;
            padding: 10px 15px;
            border-radius: 18px;
            font-size: 0.9rem;
        }
        
        .message.received {
            align-self: flex-start;
            background-color: white;
            border: 1px solid #ddd;
        }
        
        .message.sent {
            align-self: flex-end;
            background-color: var(--primary);
            color: white;
        }
        
        .chat-input {
            display: flex;
            gap: 10px;
        }
        
        .chat-input input {
            flex: 1;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
        }
        
        .chat-input button {
            padding: 12px 20px;
        }
        
        /* Documents List */
        .documents-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .document-item {
            display: flex;
            align-items: center;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            transition: all 0.3s;
        }
        
        .document-item:hover {
            border-color: var(--primary);
        }
        
        .document-icon {
            margin-right: 10px;
            color: var(--primary);
            font-size: 1.2rem;
        }
        
        .document-name {
            flex: 1;
            font-size: 0.9rem;
        }
        
        .document-download {
            color: var(--primary);
            cursor: pointer;
        }
        
        /* Timer */
        .consultation-timer {
            position: absolute;
            top: 15px;
            right: 15px;
            background-color: rgba(0, 0, 0, 0.6);
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 0.9rem;
            z-index: 10;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .hamburger {
                display: block;
            }
            
            .nav-menu {
                position: fixed;
                left: -100%;
                top: 70px;
                flex-direction: column;
                background-color: white;
                width: 100%;
                text-align: center;
                transition: 0.3s;
                box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
                padding: 20px 0;
            }
            
            .nav-menu.active {
                left: 0;
            }
            
            .nav-menu li {
                margin: 15px 0;
            }
            
            .video-controls {
                gap: 10px;
            }
            
            .control-btn {
                min-width: 70px;
                padding: 10px;
            }
            
            .control-btn i {
                font-size: 1.2rem;
            }
            
            .control-btn span {
                font-size: 0.7rem;
            }
        }
        
        @media (max-width: 480px) {
            .video-controls {
                gap: 5px;
            }
            
            .control-btn {
                min-width: 60px;
                padding: 8px;
            }
            
            .control-btn i {
                font-size: 1.1rem;
            }
            
            .control-btn span {
                font-size: 0.65rem;
            }
            
            .video-container {
                height: 40vh;
                min-height: 250px;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container">
            <nav class="navbar">
                <a href="index.html" class="logo">CareMed</a>
                <ul class="nav-menu">
                    <li><a href="index.html">Início</a></li>
                    <li><a href="index.html#sobre">Mapa do Site</a></li>
                    <li><a href="index.html#sobre">Quem Somos</a></li>
                </ul>
                <div class="hamburger">
                    <i class="fas fa-bars"></i>
                </div>
            </nav>
        </div>
    </header>

    <div class="container">
        <!-- Breadcrumb -->
        <div class="breadcrumb">
            <a href="index.html">Início</a> > <a href="Marcar_consulta.html">Agendar Consulta</a> > <span>Consulta Online</span>
        </div>
        
        <!-- Consultation Container -->
        <div class="consultation-container">
            <!-- Video Section -->
            <div class="video-section">
                <div class="video-container">
                    <div class="video-placeholder">
                        <div class="video-content">
                            <i class="fas fa-user-md" style="font-size: 3rem; margin-bottom: 15px;"></i>
                            <p>Conectando com o médico...</p>
                        </div>
                    </div>
                    <div class="consultation-timer" id="timer">00:00</div>
                </div>
                
                <!-- Controles de vídeo SEM o botão de compartilhamento de tela -->
                <div class="video-controls">
                    <button class="control-btn active" id="toggle-video">
                        <i class="fas fa-video"></i>
                        <span>Vídeo</span>
                    </button>
                    <button class="control-btn active" id="toggle-audio">
                        <i class="fas fa-microphone"></i>
                        <span>Áudio</span>
                    </button>
                    <button class="control-btn" id="toggle-chat">
                        <i class="fas fa-comment"></i>
                        <span>Chat</span>
                    </button>
                    <button class="control-btn end-call" id="end-call">
                        <i class="fas fa-phone-slash"></i>
                        <span>Encerrar</span>
                    </button>
                </div>
            </div>
            
            <!-- Sidebar -->
            <div class="consultation-sidebar">
                <!-- Appointment Info -->
                <div class="sidebar-card">
                    <h3 class="card-title"><i class="fas fa-info-circle"></i> Informações da Consulta</h3>
                    <div class="appointment-info">
                        <div class="info-item">
                            <span class="info-label">Médico:</span>
                            <span class="info-value" id="doctor-name">Dr. Carlos Silva</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Especialidade:</span>
                            <span class="info-value" id="specialty-name">Neurologia</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Data e Hora:</span>
                            <span class="info-value" id="appointment-datetime">25/05/2023 às 14:00</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Duração:</span>
                            <span class="info-value" id="appointment-duration">30 minutos</span>
                        </div>
                    </div>
                </div>
                
                <!-- Chat -->
                <div class="sidebar-card">
                    <h3 class="card-title"><i class="fas fa-comments"></i> Chat</h3>
                    <div class="chat-container">
                        <div class="chat-messages" id="chat-messages">
                            <div class="message received">
                                Olá, como você está se sentindo hoje?
                            </div>
                            <div class="message sent">
                                Olá doutor, estou com uma dor de cabeça persistente.
                            </div>
                        </div>
                        <div class="chat-input">
                            <input type="text" placeholder="Digite sua mensagem..." id="chat-input">
                            <button class="btn" id="send-message"><i class="fas fa-paper-plane"></i></button>
                        </div>
                    </div>
                </div>
                
                <!-- Documents -->
                <div class="sidebar-card">
                    <h3 class="card-title"><i class="fas fa-file-medical"></i> Documentos</h3>
                    <div class="documents-list" id="documents-list">
                        <div class="document-item">
                            <i class="fas fa-file-pdf document-icon"></i>
                            <span class="document-name">Exames_blood.pdf</span>
                            <i class="fas fa-download document-download"></i>
                        </div>
                        <div class="document-item">
                            <i class="fas fa-file-image document-icon"></i>
                            <span class="document-name">Ressonancia.jpg</span>
                            <i class="fas fa-download document-download"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // DOM Elements
        const timerEl = document.getElementById('timer');
        const toggleVideoBtn = document.getElementById('toggle-video');
        const toggleAudioBtn = document.getElementById('toggle-audio');
        const toggleChatBtn = document.getElementById('toggle-chat');
        const endCallBtn = document.getElementById('end-call');
        const chatMessages = document.getElementById('chat-messages');
        const chatInput = document.getElementById('chat-input');
        const sendMessageBtn = document.getElementById('send-message');
        
        // State variables
        let videoEnabled = true;
        let audioEnabled = true;
        let chatEnabled = true;
        let callActive = true;
        let timerInterval;
        let seconds = 0;
        let minutes = 0;
        
        // Initialize consultation page
        function initConsultation() {
            // Start timer
            startTimer();
            
            // Simulate doctor joining after 3 seconds
            setTimeout(() => {
                const videoPlaceholder = document.querySelector('.video-placeholder');
                videoPlaceholder.innerHTML = `
                    <div style="width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; color: white;">
                        <div style="text-align: center;">
                            <div style="width: 120px; height: 120px; border-radius: 50%; background-color: #4a7dcc; display: flex; align-items: center; justify-content: center; margin: 0 auto 15px;">
                                <i class="fas fa-user-md" style="font-size: 3rem;"></i>
                            </div>
                            <h3>Dr. Carlos Silva</h3>
                            <p>Neurologia</p>
                        </div>
                    </div>
                `;
                
                // Add doctor welcome message
                addMessage("Olá, como você está se sentindo hoje?", "received");
            }, 3000);
        }
        
        // Start consultation timer
        function startTimer() {
            timerInterval = setInterval(() => {
                seconds++;
                if (seconds === 60) {
                    minutes++;
                    seconds = 0;
                }
                timerEl.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            }, 1000);
        }
        
        // Add message to chat
        function addMessage(text, type) {
            const messageEl = document.createElement('div');
            messageEl.className = `message ${type}`;
            messageEl.textContent = text;
            
            chatMessages.appendChild(messageEl);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
        
        // Toggle video
        function toggleVideo() {
            videoEnabled = !videoEnabled;
            toggleVideoBtn.classList.toggle('active', videoEnabled);
            toggleVideoBtn.classList.toggle('inactive', !videoEnabled);
            toggleVideoBtn.innerHTML = videoEnabled ? 
                '<i class="fas fa-video"></i><span>Vídeo</span>' : 
                '<i class="fas fa-video-slash"></i><span>Vídeo</span>';
        }
        
        // Toggle audio
        function toggleAudio() {
            audioEnabled = !audioEnabled;
            toggleAudioBtn.classList.toggle('active', audioEnabled);
            toggleAudioBtn.classList.toggle('inactive', !audioEnabled);
            toggleAudioBtn.innerHTML = audioEnabled ? 
                '<i class="fas fa-microphone"></i><span>Áudio</span>' : 
                '<i class="fas fa-microphone-slash"></i><span>Áudio</span>';
        }
        
        // Toggle chat
        function toggleChat() {
            chatEnabled = !chatEnabled;
            const chatContainer = document.querySelector('.chat-container');
            chatContainer.style.display = chatEnabled ? 'flex' : 'none';
            
            toggleChatBtn.classList.toggle('active', chatEnabled);
        }
        
        // End call
        function endCall() {
            if (confirm('Tem certeza que deseja encerrar a consulta?')) {
                callActive = false;
                clearInterval(timerInterval);
                
                // Show end call screen
                const videoContainer = document.querySelector('.video-container');
                videoContainer.innerHTML = `
                    <div style="width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; background-color: #f8f9fa;">
                        <div style="text-align: center;">
                            <i class="fas fa-phone-slash" style="font-size: 3rem; color: var(--danger); margin-bottom: 15px;"></i>
                            <h3>Consulta Encerrada</h3>
                            <p>Duração: ${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}</p>
                            <button class="btn" style="margin-top: 15px;" onclick="window.location.href='index.html'">Voltar ao Início</button>
                        </div>
                    </div>
                `;
                
                // Disable all controls
                document.querySelectorAll('.control-btn').forEach(btn => {
                    btn.disabled = true;
                });
            }
        }
        
        // Send chat message
        function sendChatMessage() {
            if (chatInput.value.trim() !== '' && callActive) {
                addMessage(chatInput.value, 'sent');
                
                // Simulate doctor response after 1-3 seconds
                setTimeout(() => {
                    if (callActive) {
                        const responses = [
                            "Entendo. Você pode me dar mais detalhes?",
                            "Há quanto tempo você está com esses sintomas?",
                            "Você já tomou algum medicamento para aliviar os sintomas?",
                            "Vou prescrever um medicamento para ajudar com isso."
                        ];
                        
                        const randomResponse = responses[Math.floor(Math.random() * responses.length)];
                        addMessage(randomResponse, 'received');
                    }
                }, 1000 + Math.random() * 2000);
                
                chatInput.value = '';
            }
        }
        
        // Event Listeners
        toggleVideoBtn.addEventListener('click', toggleVideo);
        toggleAudioBtn.addEventListener('click', toggleAudio);
        toggleChatBtn.addEventListener('click', toggleChat);
        endCallBtn.addEventListener('click', endCall);
        sendMessageBtn.addEventListener('click', sendChatMessage);
        
        chatInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                sendChatMessage();
            }
        });
        
        // Initialize the consultation when page loads
        window.addEventListener('load', initConsultation);
        
        // Mobile menu toggle
        const hamburger = document.querySelector('.hamburger');
        const navMenu = document.querySelector('.nav-menu');
        
        hamburger.addEventListener('click', () => {
            navMenu.classList.toggle('active');
        });
        
        // Close menu when clicking on a link
        document.querySelectorAll('.nav-menu a').forEach(link => {
            link.addEventListener('click', () => {
                navMenu.classList.remove('active');
            });
        });
    </script>
</body>
</html>
